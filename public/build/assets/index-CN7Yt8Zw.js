const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index--RinV-ea.js","assets/app-DyNvxuMG.js","assets/eth_sendRawTransaction-DPdnXbFR.js"])))=>i.map(i=>d[i]);
import{aI as s,_ as i}from"./app-DyNvxuMG.js";import{s as _,U as f}from"./types-eLQXA00q.js";const e=s({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]});async function w(t,u,a){var h,l,m,r;if(((h=u==null?void 0:u.auth)==null?void 0:h.mode)!=="popup"&&((l=u==null?void 0:u.auth)==null?void 0:l.mode)!==void 0&&a.authenticateWithRedirect){const A=t.strategy;_.includes(A)&&a.authenticateWithRedirect(A,(m=u==null?void 0:u.auth)==null?void 0:m.mode,(r=u==null?void 0:u.auth)==null?void 0:r.redirectUrl)}const n=(await a.connect(t)).user.account;return u&&"smartAccount"in u&&(u!=null&&u.smartAccount)?d({client:t.client,authAccount:n,smartAccountOptions:u.smartAccount,chain:t.chain}):[n,t.chain||e]}async function y(t,u,a){t.authResult&&a.loginWithAuthToken&&await a.loginWithAuthToken(t.authResult);const c=await E(a);if(!c)throw new Error("Failed to authenticate user.");const n=c.account;return u&&"smartAccount"in u&&(u!=null&&u.smartAccount)?d({client:t.client,authAccount:n,smartAccountOptions:u.smartAccount,chain:t.chain}):[n,t.chain||e]}async function d(t){const[{smartWallet:u},{connectSmartWallet:a}]=await Promise.all([i(()=>import("./app-DyNvxuMG.js").then(n=>n.aW),[]),i(()=>import("./index--RinV-ea.js").then(n=>n.i),__vite__mapDeps([0,1,2]))]),c=u(t.smartAccountOptions);return a(c,{client:t.client,personalAccount:t.authAccount,chain:t.chain},t.smartAccountOptions)}async function E(t){const u=await t.getUser();switch(u.status){case f.LOGGED_IN_WALLET_INITIALIZED:return u}}export{y as autoConnectInAppWallet,w as connectInAppWallet};
